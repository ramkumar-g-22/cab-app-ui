<!DOCTYPE html>
<html>

<head>
	<meta charset="ISO-8859-1">
	<title>Login</title>
	<script src="login-validation.js"></script>
</head>

<body>
	<h1>Login Page</h1>
	<form method="POST">
		<label for="mobileNumber">Enter Your Mobile Number : </label>
		<input type="number" name="mobileNumber" id="mobileNumber">
		<br>
		<label for="password">Enter Your Password : </label>
		<input type="password" name="password" id="password">
		<br>
		<button id="submit">Submit</button>
	</form>
	<script>
		var mobileNumber = "";
		var password = "";
		var isValidMobileNumber = false;
		var isValidPassword = false;
		var isValidUser = false;
		document.getElementById("mobileNumber").onchange = function () {
			mobileNumber = document.getElementById("mobileNumber").value;
			isValidMobileNumber = validateMobileNumber(mobileNumber);
			console.log("Mobile NUmber : ", mobileNumber);
			if (!isValidMobileNumber) alert("Invalid Mobile Number");
		};
		document.getElementById("password").onchange = function () {
			password = document.getElementById("password").value;
			isValidPassword = validatePassword(password);
			console.log("Password : ", password);
			if (!isValidPassword) alert("Invalid Password");
		};
		document.getElementById("submit").onclick = function () {
			event.preventDefault();

			if (isValidMobileNumber && isValidPassword) {
				isValidUser = login(mobileNumber, password);
			} else {
				alert("Invalid mobile number and password");
			}
			
			if (isValidUser) {
				alert("Login Successful");
				location.assign("cab-types.html");
			} else {
				alert("Invalid User");
			}
		}	
	</script>
</body>

</html>